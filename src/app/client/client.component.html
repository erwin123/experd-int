<div class="container-client">
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="card">
                <div class="card-header">
                    Client
                </div>
                <div class="card-block">
                    <div class="card-title">
                        <button type="button" class="btn btn-primary btn-icon" ngControl="show" (click)="toggleInput()" *ngIf="!showInput">
                            <clr-icon shape="plus"></clr-icon> Create
                        </button>
                        <button type="button" class="btn btn-warning btn-icon" (click)="toggleInput()" *ngIf="showInput">
                            <clr-icon shape="times"></clr-icon> Cancel
                        </button>
                    </div>
                    <div class="card-text">
                        <form #clientForm="ngForm" (ngSubmit)="onSubmit(clientForm)" [hidden]="submitted" class="compact input-form" *ngIf="showInput">
                            <section class="form-block">
                                <div class="form-group">
                                    <label for="aForm_1">Client Code</label>
                                    <input name="klien_code" [(ngModel)]="model.klien_code" type="text" id="aForm_1" placeholder="Auto generated" size="100" disabled="disabled">
                                </div>
                                <div class="form-group">
                                    <label for="aForm_2" class="required">Client Name</label>
                                    <input name="klien_name" [(ngModel)]="model.klien_name" [attr.disabled]="disableInput ? '' : null" type="text" id="aForm_2" placeholder="Regular Name (tanpa PT, CV)" size="100" required>
                                    <input name="klien_legal_name" [(ngModel)]="model.klien_legal_name" [attr.disabled]="disableInput ? '' : null" type="text" id="aForm_2" placeholder="Legal Name (lengkap)" size="100" required>
                                </div>
                                <div class="form-group">
                                    <label for="aForm_3" class="required">Business</label>
                                    <div class="select">
                                        <select id="aForm_3" [(ngModel)]="model.lob_id" [attr.disabled]="disableInput ? '' : null" required name="selectBusiness" style="width: 500px;">
                                            <option title="{{item.lob_name}}" [value]="item.lob_id" [attr.disabled]="disableInput ? '' : null" *ngFor="let item of lobList">{{item.lob_name| slice:0:70}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="aForm_4">Alamat</label>
                                    <textarea name="klien_address" [(ngModel)]="model.klien_address" [attr.disabled]="disableInput ? '' : null" id="aForm_4" rows="2" style="width: 500px;"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="aForm_5" class="required">Telp</label>
                                    <input name="klien_phone" [(ngModel)]="model.klien_phone" [attr.disabled]="disableInput ? '' : null" required type="text"  id="aForm_5" placeholder="Nomor Tlp" size="50">
                                </div>
                                <div class="form-group">
                                    <label for="aForm_6">Fax</label>
                                    <input name="klien_fax" [(ngModel)]="model.klien_fax" [attr.disabled]="disableInput ? '' : null" type="text" id="aForm_6" placeholder="Nomor Fax" size="50">
                                </div>
                                <div class="form-group">
                                    <label for="aForm_7">Website</label>
                                    <input name="klien_website" [(ngModel)]="model.klien_website" [attr.disabled]="disableInput ? '' : null" type="text" id="aForm_7" placeholder="Website http:/...." size="50">
                                </div>
                                <div class="form-group">
                                    <label for="aForm_8">PO</label>
                                    <input name="klien_po" [(ngModel)]="model.klien_po" type="text" [attr.disabled]="disableInput ? '' : null" id="aForm_8" placeholder="PO" size="50">
                                </div>
                                <div class="form-group">
                                    <label for="aForm_9">Special Request</label>
                                    <textarea name="specrequest" [(ngModel)]="model.specrequest" [attr.disabled]="disableInput ? '' : null" id="aForm_9" rows="2" style="width: 500px;"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="aForm_10">Keterangan</label>
                                    <textarea name="keterangan" [(ngModel)]="model.keterangan" [attr.disabled]="disableInput ? '' : null" id="aForm_10" rows="2" style="width: 500px;"></textarea>
                                </div>
                                <button type="submit" class="btn btn-primary" [disabled]="clientForm.form.invalid">Save</button>
                            </section>

                            
                        </form>
                        <div class="row" *ngIf="showInput">
                            
                        </div>

                        <!--datagrid-->
                        <clr-datagrid>
                            <!--column declaration-->
                            <clr-dg-column>Client Code
                                <clr-dg-string-filter [clrDgStringFilter]="clientFilter"></clr-dg-string-filter>
                            </clr-dg-column>
                            
                            <clr-dg-column>Client Name
                                <clr-dg-string-filter [clrDgStringFilter]="clientFilter"></clr-dg-string-filter>
                            </clr-dg-column>
                            <clr-dg-column>PO</clr-dg-column>
                            <clr-dg-column>Telp</clr-dg-column>
                            <clr-dg-column>Update</clr-dg-column>
                            <!--item rows-->
                            <clr-dg-row *clrDgItems="let row of clientList">
                                <clr-dg-cell>{{row.klien_code}}</clr-dg-cell>
                                <clr-dg-cell>{{row.klien_name}}</clr-dg-cell>
                                <clr-dg-cell>{{row.klien_po}}</clr-dg-cell>
                                <clr-dg-cell>{{row.klien_phone}}</clr-dg-cell>
                                <clr-dg-cell class="editrow">
                                    <button type="button" class="btn btn-link btn-icon btn-sm" title="Detail" (click)="onViewData(row)">
                                        <clr-icon shape="eye"></clr-icon>
                                    </button>
                                    <button type="button" class="btn btn-link btn-icon btn-sm" title="Edit" (click)="onEditData(row)">
                                        <clr-icon shape="pencil"></clr-icon>
                                    </button>
                                    <button type="button" class="btn btn-link btn-danger btn-icon btn-sm" title="Delete" (click)="onDeleteData(row)">
                                        <clr-icon shape="trash"></clr-icon>
                                    </button>
                                </clr-dg-cell>
                            </clr-dg-row>
                            <clr-dg-footer>
                                <clr-dg-pagination #pagination [clrDgPageSize]="10">
                                    {{pagination.firstItem + 1}} - {{pagination.lastItem + 1}} of {{pagination.totalItems}} users
                                </clr-dg-pagination>
                            </clr-dg-footer>
                        </clr-datagrid>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<app-alert #alertCom (confirmOutput)='acceptAnswer($event)'></app-alert>